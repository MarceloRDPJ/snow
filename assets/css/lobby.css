/* assets/css/lobby.css - Interactive Constellation */

:root {
    --transition-speed: 0.8s;
    --transition-easing: cubic-bezier(0.645, 0.045, 0.355, 1);
}

body {
    overflow: hidden; /* Proíbe qualquer tipo de scroll */
    background-color: var(--background-color);
    color: var(--text-color);
    font-family: var(--font-body);
}

#universe {
    position: relative;
    width: 100vw;
    height: 100vh;
    transition: transform var(--transition-speed) var(--transition-easing);
}

.intro-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    transition: opacity 0.5s ease;
}

.intro-text h1 {
    font-family: var(--font-title);
    font-size: clamp(2.5rem, 5vw, 4rem);
    color: var(--primary-color);
    text-transform: uppercase;
}

.intro-text p {
    color: var(--accent-color);
    opacity: 0.8;
}

/* --- ESTADO ESTRELA (INICIAL) --- */

.project-node {
    position: absolute;
    width: 20px;
    height: 20px;
    background-color: var(--accent-color);
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 0 15px var(--accent-color), 0 0 25px white;

    /* Transições para todas as propriedades que vamos animar */
    transition: transform var(--transition-speed) var(--transition-easing),
                width var(--transition-speed) var(--transition-easing),
                height var(--transition-speed) var(--transition-easing),
                border-radius var(--transition-speed) var(--transition-easing);

    /* Animação de pulsação e órbita */
    animation: pulse-star 3s infinite alternate, orbit 30s linear infinite;
}

/* Esconde o cartão por defeito */
.project-node .project-card {
    opacity: 0;
    pointer-events: none;
    transform: scale(0.5);
    transition: opacity 0.4s ease, transform 0.4s ease;
}

/* Posições das estrelas */
#node-lobby { top: 30%; left: 25%; animation-delay: -15s; }
#node-construction { top: 60%; left: 70%; }

@keyframes pulse-star {
    from { transform: scale(1); }
    to { transform: scale(1.3); }
}

@keyframes orbit {
    from { transform: rotate(0deg) translateX(20px) rotate(0deg); }
    to { transform: rotate(360deg) translateX(20px) rotate(-360deg); }
}

/* --- ESTADO FOCADO (QUANDO CLICADO) --- */

#universe.is-focused .intro-text {
    opacity: 0;
    pointer-events: none;
}

#universe.is-focused .project-node:not(.is-focused) {
    /* Esconde as outras estrelas */
    transform: scale(0);
    opacity: 0;
}

.project-node.is-focused {
    /* Traz o nó focado para o centro e expande-o */
    width: 500px;
    max-width: 90vw;
    height: auto;
    background-color: transparent;
    box-shadow: none;
    border-radius: 15px; /* Raio do cartão */

    /* Para a animação de órbita e pulsação */
    animation: none;

    /* A mágica do zoom acontece aqui, movendo o nó para a origem do universo transformado */
    transform: translate(calc(-1 * var(--tx, 0px)), calc(-1 * var(--ty, 0px))) scale(var(--s, 1));
}

.project-node.is-focused .project-card {
    opacity: 1;
    pointer-events: auto;
    transform: scale(1);
    background-color: rgba(13, 26, 38, 0.8);
    border: 1px solid rgba(176, 224, 230, 0.2);
    border-radius: 15px;
    backdrop-filter: blur(12px);
    transition-delay: 0.3s; /* Mostra o conteúdo só depois da expansão */
}

/* Estilos do cartão - reaproveitados e refinados */
.project-svg-wrapper {
    padding: 2.5rem;
    aspect-ratio: 16 / 10;
    display: flex;
    justify-content: center;
    align-items: center;
}
.project-svg {
    width: 60%;
    max-height: 140px;
    filter: drop-shadow(0 0 8px var(--accent-color));
}
.project-svg .svg-animated-group {
    fill: none;
    stroke: var(--accent-color);
    stroke-width: 1.5;
}
.card-content {
    padding: 1.5rem 2rem;
    text-align: left;
    border-top: 1px solid rgba(176, 224, 230, 0.2);
}
.card-content h2 {
    font-family: var(--font-title);
    color: var(--primary-color);
}
.card-link {
    font-weight: bold;
    color: var(--background-color);
    background-color: var(--accent-color);
    padding: 0.7rem 1.5rem;
    border-radius: 50px;
    text-decoration: none;
    display: inline-block;
    margin-right: 10px;
}
.card-link:hover {
    background-color: var(--primary-color);
}
.close-card {
    background-color: transparent;
    color: var(--accent-color);
    border: 1px solid var(--accent-color);
}
.close-card:hover {
    background-color: var(--accent-color);
    color: var(--background-color);
}